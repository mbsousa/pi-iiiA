CREATE DATABASE PROJETO1;
USE PROJETO1;

CREATE TABLE CATEGORIA (
    ID_CAT INT AUTO_INCREMENT PRIMARY KEY,
    NOME VARCHAR(20) NOT NULL
);

CREATE TABLE PRODUTO (
    ID_PROD INT AUTO_INCREMENT PRIMARY KEY,
    NOME VARCHAR(30) NOT NULL,
    QTD_EST INT NOT NULL, 
    PRECO FLOAT NOT NULL,
    DT_ENT DATE NOT NULL,
    ID_CAT INT NOT NULL,
    FOREIGN KEY (ID_CAT) REFERENCES CATEGORIA(ID_CAT) ON DELETE CASCADE
);

CREATE TABLE MOV_ESTOQUE (
    ID_EST INT AUTO_INCREMENT PRIMARY KEY,
    DT DATE NOT NULL,
    QTD INT NOT NULL,
    HR TIME NOT NULL,
    TIPO_MOV ENUM('E', 'S') NOT NULL,
    ID_PROD INT NOT NULL,
    OBS VARCHAR(100),
    FOREIGN KEY (ID_PROD) REFERENCES PRODUTO(ID_PROD) ON DELETE CASCADE
);
